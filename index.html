<!doctype html>
<html lang="fr">
<head>
  <!-- ===== META DE BASE / SEO ===== -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">
  <meta name="theme-color" content="#0a4466">
  <meta name="color-scheme" content="light dark">
  <meta name="format-detection" content="telephone=no">

  <title>GO2INNOV ‚Äî Autonomie hydrique pour l‚Äôh√¥tellerie en Guadeloupe</title>
  <meta name="description" content="GO2INNOV assure une eau continue, ma√Ætris√©e et tra√ßable pour l‚Äôh√¥tellerie et les r√©sidences en Guadeloupe : stockage, filtration, capteurs IoT, supervision.">

  <!-- (Optionnel si domaine connu)
  <link rel="canonical" href="https://votre-domaine.tld/">
  <link rel="alternate" hreflang="fr-FR" href="https://votre-domaine.tld/">
  <link rel="alternate" hreflang="x-default" href="https://votre-domaine.tld/">
  -->

  <!-- ===== OPEN GRAPH / TWITTER ===== -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="GO2INNOV ‚Äî Autonomie hydrique h√¥teli√®re">
  <meta property="og:description" content="Stockage, filtration, capteurs IoT et supervision pour une eau continue en Guadeloupe.">
  <meta property="og:image" content="Image/cuve%20realiste.png">
  <meta property="og:locale" content="fr_FR">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="GO2INNOV ‚Äî Autonomie hydrique h√¥teli√®re">
  <meta name="twitter:description" content="Eau continue et tra√ßable : stockage, filtration, IoT, supervision.">
  <meta name="twitter:image" content="Image/cuve%20realiste.png">

  <!-- ===== FAVICONS (si pr√©sents) ===== -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="shortcut icon" href="/favicon.ico">

  <!-- ===== PRELOAD (Hero) ===== -->
  <link rel="preload" as="image" href="Image/cuve%20realiste.png">

  <!-- ===== JSON-LD : ProfessionalService (minimal, sans adresse pr√©cise) ===== -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ProfessionalService",
    "name":"GO2INNOV",
    "description":"Autonomie hydrique pour h√¥tellerie et r√©sidences en Guadeloupe : stockage, filtration, capteurs IoT, supervision.",
    "areaServed":["Guadeloupe","Antilles fran√ßaises"],
    "image":"Image/cuve%20realiste.png"
  }
  </script>

  <!-- ===== STYLES ===== -->
  <style>
    /* ===== Design system (sobre & compatible) ===== */
    :root{
      --bg:#f5f7fb; --ink:#0f172a; --muted:#4b5563;
      --brand:#0a4466; --brand-2:#136e99; --accent:#ffd166;
      --panel:#ffffff; --panel-2:#eef2f7; --bd:#d9dee7;
      --radius:18px; --shadow:0 8px 24px rgba(15,23,42,.08);
      --focus: rgba(56,189,248,.22);
    }
    [data-theme="dark"]{
      --bg:#0f1422; --ink:#e9edf5; --muted:#c8d0dc;
      --panel:#111a2b; --panel-2:#0f1828; --bd:#1f2a3a;
      --shadow:0 10px 28px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      color:var(--ink);
      background:
        radial-gradient(900px 600px at 15% -10%, rgba(19,110,153,.10), transparent 60%),
        radial-gradient(900px 600px at 85% -20%, rgba(10,68,102,.10), transparent 60%),
        var(--bg);
      line-height:1.6;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    img{max-width:100%; display:block; height:auto}
    a{color:inherit; text-decoration:none; transition:opacity .2s ease, color .2s ease}
    a:hover{opacity:.9}
    .container{width:min(1200px, 100% - 48px); margin-inline:auto}

    /* Skip link */
    .skip-to-content{
      position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden
    }
    .skip-to-content:focus{
      position:fixed; left:16px; top:16px; width:auto; height:auto;
      background:var(--brand); color:#fff; padding:10px 14px; border-radius:10px; z-index:10000;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
    }

    /* Focus visible */
    :where(a,button,input,select,textarea,.cta,.ghost,.menu-btn):focus-visible{
      outline:none; box-shadow:0 0 0 4px var(--focus)
    }

    /* ===== Header (solide) ===== */
    header{
      position:sticky; top:0; z-index:50;
      background:var(--panel); border-bottom:1px solid var(--bd)
    }
    .nav{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800}
    .brand .logo{
      width:34px; aspect-ratio:1; border-radius:10px; display:grid; place-items:center;
      background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff; box-shadow:var(--shadow)
    }
    nav ul{display:flex; gap:18px; list-style:none; padding:0; margin:0}
    .menu-btn{display:none}
    .ghost{padding:9px 14px; border:1px solid var(--bd); border-radius:10px; background:var(--panel)}
    .cta{display:inline-grid; place-items:center; padding:10px 16px; border-radius:12px; background:var(--brand); color:#fff; font-weight:700; box-shadow:var(--shadow)}
    .switch{display:inline-flex; align-items:center; gap:8px}
    @media (max-width:860px){
      nav ul{display:none}
      .menu-btn{display:inline-flex; gap:8px; align-items:center}
      header.open ul{
        display:grid; gap:10px; position:absolute; left:0; right:0; top:60px;
        background:var(--panel); border-bottom:1px solid var(--bd); padding:14px;
      }
    }

    /* ===== Hero ===== */
    .hero{background:linear-gradient(180deg,var(--panel),var(--panel-2)); border-bottom:1px solid var(--bd)}
    .hero-wrap{display:grid; grid-template-columns:1.05fr .95fr; gap:36px; align-items:center; padding:clamp(48px,6vw,96px) 0}
    @media (max-width:900px){ .hero-wrap{grid-template-columns:1fr} }
    h1{font-size:clamp(28px,3.5vw,44px); line-height:1.15; margin:0 0 10px}
    .lead{color:var(--muted); font-size:clamp(16px,1.3vw,18px); margin:0}
    .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:16px}
    .badge{
      display:inline-flex; align-items:center; gap:8px; font-weight:700; font-size:12px; letter-spacing:.08em; text-transform:uppercase;
      background:var(--accent); color:#1b2838; padding:6px 10px; border-radius:999px; width:max-content; margin-bottom:8px;
    }
    .hero-card{background:var(--panel); border:1px solid var(--bd); border-radius:var(--radius); box-shadow:var(--shadow); padding:14px}
    .kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:14px}
    .kpi{padding:12px; border-radius:12px; border:1px solid var(--bd); background:var(--panel)}
    .kpi b{font-size:22px}
    @media (max-width:680px){ .kpis{grid-template-columns:1fr} }

    /* ===== Sections ===== */
    section{padding:clamp(42px,5vw,78px) 0}
    .section-head{display:flex; align-items:flex-end; justify-content:space-between; gap:16px; margin-bottom:18px}
    h2{font-size:clamp(22px,2.4vw,32px); margin:0}
    .muted{color:var(--muted)}

    /* ===== Cards / Grids ===== */
    .grid-4{display:grid; grid-template-columns:repeat(4,1fr); gap:14px}
    @media (max-width:1000px){ .grid-4{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:560px){ .grid-4{grid-template-columns:1fr} }
    .grid-2{display:grid; grid-template-columns:1.05fr .95fr; gap:16px}
    @media (max-width:900px){ .grid-2{grid-template-columns:1fr} }
    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media (max-width:1000px){ .grid-3{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:600px){ .grid-3{grid-template-columns:1fr} }

    .card{background:var(--panel); border:1px solid var(--bd); border-radius:16px; box-shadow:var(--shadow); padding:16px}
    .card .media{width:100%; height:220px; object-fit:cover; border-radius:12px}
    .card h3{margin:0 0 6px; font-size:18px}
    .card p{margin:0; color:var(--muted)}

    /* ===== Use case list ===== */
    .list{display:grid; gap:10px}
    .item{display:flex; gap:10px; align-items:flex-start; padding:12px; border:1px dashed var(--bd); border-radius:12px; background:var(--panel)}

    /* ===== Pricing ===== */
    .pricing{display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr)); gap:20px}
    .price{
      background:var(--panel); border:1px solid var(--bd); border-radius:18px;
      padding:24px 18px; text-align:center; box-shadow:var(--shadow)
    }
    .price .tag{display:flex; align-items:center; justify-content:center; flex-wrap:wrap; gap:6px; font-size:1.2rem; font-weight:800; margin-bottom:10px}
    .price .per{font-size:.95rem; font-weight:600; color:var(--muted)}
    .price ul{ list-style:none; padding:0; margin:0 }
    .price ul li{ border-top:1px solid var(--bd); padding:8px 0; font-size:.95rem }
    .price .badge{ background:var(--accent); color:#1b2838; padding:6px 10px; border-radius:999px; font-weight:700; font-size:.75rem }

    /* ===== CTA band ===== */
    .cta-band{
      text-align:center; padding:28px; border-radius:18px; border:1px solid var(--bd);
      background:linear-gradient(180deg,var(--panel),var(--panel-2)); box-shadow:var(--shadow)
    }

    /* ===== Form ===== */
    form{display:grid; gap:12px; position:relative}
    .two{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width:700px){ .two{grid-template-columns:1fr} }
    input,textarea,select{
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid var(--bd); background:var(--panel); color:var(--ink)
    }
    input::placeholder,textarea::placeholder{ color:#8392a6 }
    input:focus,textarea:focus,select:focus{outline:2px solid #86c5e6}
    .status{font-size:.95rem}

    /* ===== Footer ===== */
    footer{border-top:1px solid var(--bd); color:var(--muted); padding:26px 0}

    /* ===== Lightbox (unique, global) ===== */
    #lightbox{
      position: fixed; inset: 0; background: rgba(0,0,0,0.8);
      display: none; align-items: center; justify-content: center; z-index: 9999;
    }
    #lightbox img{
      max-width: 90%; max-height: 90%; border-radius: 10px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6); animation: zoomIn .25s ease;
    }
    #lightbox .close{
      position: absolute; top: 2%; right: 2%; font-size: 32px; color: #fff; cursor: pointer;
    }
    @keyframes zoomIn{ from { transform: scale(.92); opacity: 0 } to { transform: scale(1); opacity: 1 } }
  </style>
</head>

<body data-theme="light" id="top">
  <a class="skip-to-content" href="#main">Aller au contenu principal</a>

  <!-- ===== HEADER ===== -->
  <header>
    <div class="container nav">
      <a class="brand" href="#top" aria-label="GO2INNOV Accueil">
        <span class="logo" aria-hidden="true">üíß</span><span>GO2INNOV</span>
      </a>

      <nav aria-label="Navigation principale">
        <button class="ghost menu-btn" aria-expanded="false" aria-controls="menu">‚ò∞ Menu</button>
        <ul id="menu">
          <li><a href="#solution">Solution</a></li>
          <li><a href="#usecase">H√¥tellerie</a></li>
          <li><a href="#galerie">Galerie</a></li>
          <li><a href="#prix">Tarifs</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>

      <label class="switch" title="Basculer le th√®me">
        <input id="mode" type="checkbox" aria-label="Mode sombre">
        <span>üåô</span>
      </label>

      <a class="cta" href="#contact">Demander une d√©mo</a>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main id="main">
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="container hero-wrap">
        <div>
          <span class="badge">Guadeloupe ¬∑ H√¥tellerie & R√©sidences</span>
          <h1 id="hero-title">Une eau continue, ma√Ætris√©e et tra√ßable. M√™me en cas de coupure.</h1>
          <p class="lead">GO2INNOV combine <b>stockage</b>, <b>filtration</b> et <b>capteurs IoT</b> avec un pilotage simple pour s√©curiser l‚Äôexp√©rience client et les co√ªts d‚Äôexploitation.</p>
          <div class="actions">
            <a class="cta" href="#contact">Audit gratuit</a>
            <a class="ghost" href="#solution">Voir la solution</a>
          </div>
          <div class="kpis" aria-label="Indicateurs">
            <div class="kpi"><b>‚è± Continuit√©</b><br><span class="muted">Bascule auto sur r√©serve</span></div>
            <div class="kpi"><b>‚ôªÔ∏é ‚àí30‚Äì40%</b><br><span class="muted">Eau potable √©conomis√©e</span></div>
            <div class="kpi"><b>üìà Tra√ßabilit√©</b><br><span class="muted">Qualit√© & conso en temps r√©el</span></div>
          </div>
        </div>

        <aside class="hero-card" aria-label="Illustration technique">
          <figure style="margin:0;display:grid;gap:8px">
            <img
              src="Image/cuve realiste.png"
              alt="Prototype GO2INNOV : cuve, filtration, capteurs et supervision"
              loading="eager" decoding="async" />
            <figcaption class="muted" style="font-size:14px">Prototype 3 000 L ¬∑ Filtration 3 √©tapes ¬∑ Capteurs niveau/qualit√© ¬∑ Supervision web & mobile</figcaption>
          </figure>
        </aside>
      </div>
    </section>

    <!-- SOLUTION -->
    <section id="solution" aria-labelledby="solution-title">
      <div class="container">
        <div class="section-head">
          <h2 id="solution-title">La solution</h2>
          <p class="muted">Modulaire, r√©sistante, pens√©e pour les contraintes tropicales.</p>
        </div>
        <div class="grid-4">
          <article class="card"><h3>Stockage s√©curis√©</h3><p>Cuves 3 000 L+ anti-corrosion, alimentation r√©seau & pluie, clapets anti-retour.</p></article>
          <article class="card"><h3>Filtration 3 √©tapes</h3><p>Pr√©-filtration, charbon actif, UV. Qualit√© stable pour cuisines & buanderies.</p></article>
          <article class="card"><h3>Capteurs & alertes</h3><p>Niveau, turbidit√©, pH. Alertes coupure/fuite. Historique exportable.</p></article>
          <article class="card"><h3>Supervision connect√©e</h3><p>Tableau de bord web/mobile, bascule automatique, gestion multi-sites.</p></article>
        </div>
      </div>
    </section>

    <!-- USE CASE -->
    <section id="usecase" aria-labelledby="usecase-title">
      <div class="container grid-2">
        <div>
          <h2 id="usecase-title">Con√ßu pour l‚Äôh√¥tellerie Guadeloupe</h2>
          <div class="list">
            <div class="item"><span>üè®</span><div><b>Confort client garanti</b><br>Pression stable, eau disponible en chambre, restauration, buanderie.</div></div>
            <div class="item"><span>üß∫</span><div><b>Op√©rations s√©curis√©es</b><br>Plan de continuit√© : autonomie pendant les coupures, maintenance planifi√©e.</div></div>
            <div class="item"><span>üåø</span><div><b>RSE cr√©dible</b><br>R√©emploi des eaux grises, collecte pluie, indicateurs publics.</div></div>
            <div class="item"><span>üí∂</span><div><b>Co√ªts ma√Ætris√©s</b><br>Moins de citernes, moins d‚Äôarr√™ts d‚Äôactivit√©, ROI mesurable.</div></div>
          </div>
        </div>
        <aside class="card">
          <h3>Proposition de valeur</h3>
          <p><b>GO2INNOV</b> garantit une autonomie hydrique <b>intelligente et durable</b> pour pr√©server l‚Äôimage, ma√Ætriser les co√ªts et assurer une exp√©rience irr√©prochable, m√™me en cas de crise.</p>
        </aside>
      </div>
    </section>

    <!-- GALERIE PROTOTYPE -->
    <section id="galerie" aria-labelledby="galerie-title">
      <div class="container">
        <div class="section-head">
          <h2 id="galerie-title">Notre prototype sur le terrain</h2>
          <p class="muted">Local technique ¬∑ Buanderie ¬∑ Ext√©rieur (pluie)</p>
        </div>

        <div class="grid-3" style="margin-top:14px">
          <article class="card">
            <img class="media" src="Image/cuve realiste.png" alt="GO2INNOV ‚Äî vue g√©n√©rale du module" loading="lazy" decoding="async">
            <p class="muted" style="margin:10px 0 0">Vue g√©n√©rale ‚Äî Cuve 3 000 L, filtration 3 √©tapes, capteurs IoT.</p>
          </article>

          <article class="card">
            <img class="media" src="Image/croquis cuve.png" alt="GO2INNOV ‚Äî croquis de la cuve" loading="lazy" decoding="async">
            <p class="muted" style="margin:10px 0 0">Croquis de la cuve GO2INNOV.</p>
          </article>

          <article class="card">
            <img class="media" src="Image/appli.png" alt="GO2INNOV ‚Äî application de supervision" loading="lazy" decoding="async">
            <p class="muted" style="margin:10px 0 0">Application de gestion et supervision.</p>
          </article>
        </div>
      </div>

      <!-- Lightbox global (unique) -->
      <div id="lightbox" role="dialog" aria-modal="true" aria-label="Agrandissement d‚Äôimage">
        <button class="close" aria-label="Fermer l‚Äôagrandissement">‚úï</button>
        <img src="" alt="Agrandissement">
      </div>
    </section>

    <!-- TARIFS -->
    <section id="prix" aria-labelledby="pricing-title">
      <div class="container">
        <div class="section-head">
          <h2 id="pricing-title">Tarifs</h2>
          <p class="muted">Mat√©riel √† l‚Äôachat + supervision au choix.</p>
        </div>

        <div class="pricing" aria-label="Offres et tarifs">
          <!-- Essentiel -->
          <article class="card price">
            <h3>Essentiel</h3>
            <div class="tag">
              <span class="count" data-count data-from="0" data-to="5000" data-duration="500"></span>
              <span>‚Ç¨</span>
            </div>
            <p class="muted">Cuve 3 000 L, filtration 3 √©tapes, capteurs, tableau de bord.</p>
            <ul>
              <li>Bascule automatique</li>
              <li>Rapports mensuels</li>
              <li>Assistance e-mail</li>
            </ul>
          </article>

          <!-- Pro (mise en avant) -->
          <article class="card price" style="position:relative;outline:2px solid var(--brand);box-shadow:0 10px 28px rgba(10,68,102,.15)">
            <div class="badge" style="position:absolute;top:10px;right:10px">Recommand√©</div>
            <h3>Pro</h3>
            <div class="tag">
              <span class="count" data-count data-from="0" data-to="5000" data-duration="500"></span>
              <span>‚Ç¨</span>
              <span class="per"> + </span>
              <span class="count" data-count data-from="0" data-to="100" data-duration="500"></span>
              <span class="per">‚Ç¨/mois</span>
            </div>
            <p class="muted">Supervision avanc√©e, alertes temps r√©el, multi-sites, export conformit√©.</p>
            <ul>
              <li>API & int√©grations</li>
              <li>Sc√©narios d‚Äô√©conomie</li>
              <li>Support prioritaire</li>
            </ul>
          </article>

          <!-- Sur-mesure -->
          <article class="card price">
            <h3>Sur-mesure</h3>
            <div class="tag">Devis</div>
            <p class="muted">Capacit√©s √©tendues, GTB, SLA, installation cl√© en main Guadeloupe.</p>
            <ul>
              <li>Audit site & ROI</li>
              <li>Formation √©quipe</li>
              <li>Aides & financements</li>
            </ul>
          </article>
        </div>

        <p class="muted" style="margin-top:8px">Prix publics indicatifs HT ‚Äî installation et transport selon site.</p>
      </div>
    </section>

    <!-- CTA -->
    <section class="container cta-band" aria-labelledby="cta">
      <h2 id="cta">S√©curisons votre approvisionnement en eau</h2>
      <p class="muted">Nous dimensionnons la capacit√©, le r√©seau et les √©conomies attendues.</p>
      <p><a class="cta" href="#contact">Planifier un audit</a></p>
    </section>

    <!-- CONTACT -->
    <section id="contact" aria-labelledby="contact-title">
      <div class="container">
        <div class="section-head">
          <h2 id="contact-title">Contact & d√©mo</h2>
          <p class="muted">R√©ponse sous 24 h ouvr√©es.</p>
        </div>

        <form id="lead" class="card" action="https://formspree.io/f/mgvnreoq" method="POST" novalidate aria-describedby="status">
          <div class="two">
            <p><label for="nom">Nom <span aria-hidden="true">*</span></label><br>
              <input id="nom" name="nom" required placeholder="Nom Pr√©nom" autocomplete="name">
            </p>
            <p><label for="email">Email <span aria-hidden="true">*</span></label><br>
              <input id="email" name="email" type="email" required placeholder="vous@hotel.com" autocomplete="email">
            </p>
          </div>

          <div class="two">
            <p><label for="etab">√âtablissement</label><br>
              <input id="etab" name="etablissement" placeholder="H√¥tel, r√©sidence‚Ä¶">
            </p>
            <p>
              <label for="ile">√éle / D√©pt.</label><br>
              <select id="ile" name="ile">
                <option value="">S√©lectionner</option>
                <option>Guadeloupe</option><option>Martinique</option><option>Guyane</option>
                <option>La R√©union</option><option>Mayotte</option><option>Polyn√©sie</option>
                <option>Nouvelle-Cal√©donie</option><option>Saint-Martin</option><option>Saint-Barth</option>
              </select>
            </p>
          </div>

          <p><label for="message">Vos besoins</label><br>
            <textarea id="message" name="message" rows="5" placeholder="Capacit√©, zones √† desservir, contraintes‚Ä¶"></textarea>
          </p>

          <!-- RGPD -->
          <p class="consent" style="display:flex;align-items:center;gap:8px">
            <input id="rgpd" type="checkbox" required>
            <label for="rgpd">J‚Äôaccepte d‚Äô√™tre recontact√© pour GO2INNOV.</label>
          </p>

          <!-- Anti-spam honeypot -->
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">

          <!-- Sujet email -->
          <input type="hidden" name="_subject" value="Nouveau lead GO2INNOV">

          <p>
            <button class="cta" type="submit">Envoyer</button>
            <span id="status" class="status muted" role="status" aria-live="polite"></span>
          </p>

          <!-- Zone d‚Äôalerte ARIA (assertive) -->
          <div id="form-alert" role="alert" aria-live="assertive" style="position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden"></div>
        </form>
      </div>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer role="contentinfo">
    <div class="container" style="display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <div>¬© <span id="year"></span> GO2INNOV</div>
      <div><a href="#prix">Tarifs</a> ¬∑ <a href="#contact">Contact</a></div>
    </div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script>
    /* === Utilitaires === */
    const $ = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => [...r.querySelectorAll(s)];
    $('#year') && ($('#year').textContent = new Date().getFullYear());

    /* === Menu mobile === */
    const header = document.querySelector('header');
    const btn = header?.querySelector('.menu-btn');
    btn?.addEventListener('click', () => {
      const open = header.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    /* === Th√®me clair/sombre === */
    const saved = localStorage.getItem('theme');
    const prefersDark = matchMedia('(prefers-color-scheme: dark)').matches;
    document.body.setAttribute('data-theme', saved || (prefersDark ? 'dark' : 'light'));
    const mode = $('#mode');
    if (mode){
      mode.checked = document.body.getAttribute('data-theme') === 'dark';
      mode.addEventListener('change', () => {
        const t = mode.checked ? 'dark' : 'light';
        document.body.setAttribute('data-theme', t);
        localStorage.setItem('theme', t);
      });
    }

    /* === Scroll doux + fermeture menu === */
    $$('a[href^="#"]').forEach(a => a.addEventListener('click', e => {
      const id = a.getAttribute('href').slice(1), el = $('#'+id);
      if (el){
        e.preventDefault();
        el.scrollIntoView({behavior:'smooth'});
        header?.classList.remove('open');
        btn?.setAttribute('aria-expanded','false');
      }
    }));

    /* === Lightbox (global, unique) === */
    (() => {
      const lb = $('#lightbox');
      if (!lb) return;
      const imgLarge = lb.querySelector('img');
      const closeBtn = lb.querySelector('.close');
      document.addEventListener('click', (e) => {
        const t = e.target;
        if (t && t.classList && t.classList.contains('media')){
          imgLarge.src = t.getAttribute('src');
          lb.style.display = 'flex';
          lb.setAttribute('aria-hidden','false');
        }
      });
      closeBtn?.addEventListener('click', () => {
        lb.style.display = 'none';
        lb.setAttribute('aria-hidden','true');
      });
      lb.addEventListener('click', (e) => {
        if (e.target === lb){
          lb.style.display = 'none';
          lb.setAttribute('aria-hidden','true');
        }
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && lb.style.display === 'flex'){
          lb.style.display = 'none';
          lb.setAttribute('aria-hidden','true');
        }
      });
    })();

    /* === Animation des chiffres (compteurs tarifs) === */
    (function(){
      const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
      const fmt = new Intl.NumberFormat('fr-FR');
      const ease = t => 1 - Math.pow(1 - t, 3);
      const animate = el => {
        const from = +el.dataset.from || 0;
        const to = +el.dataset.to || 0;
        const dur = +el.dataset.duration || 1200;
        if (reduce){ el.textContent = fmt.format(to); return; }
        let start = null;
        const step = ts => {
          if (!start) start = ts;
          const p = Math.min((ts - start)/dur, 1);
          const val = from + (to - from) * ease(p);
          el.textContent = fmt.format(val);
          if (p < 1) requestAnimationFrame(step);
        };
        requestAnimationFrame(step);
      };
      const counters = document.querySelectorAll('[data-count]');
      const io = new IntersectionObserver(entries => {
        entries.forEach(e => {
          if (e.isIntersecting){ animate(e.target); io.unobserve(e.target); }
        });
      }, {threshold:.4});
      counters.forEach(el => io.observe(el));
    })();

    /* === Formulaire (validation + fetch + redirection merci) === */
    (function(){
      const form = $('#lead'), status = $('#status'), alertLive = $('#form-alert');
      if (!form) return;

      const setInvalid = (el, invalid=true) => { if (!el) return; el.setAttribute('aria-invalid', invalid ? 'true' : 'false'); };

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(form).entries());
        const rgpd = $('#rgpd');

        // Validation minimale
        let ok = true;
        if (!data.nom){ ok=false; setInvalid($('#nom'), true); }
        if (!data.email || !/.+@.+\..+/.test(data.email)){ ok=false; setInvalid($('#email'), true); }
        if (!rgpd?.checked){ ok=false; }
        if (!ok){
          const msg = 'Champs requis manquants ou invalides.';
          status.textContent = msg; status.style.color = '#e11d48';
          alertLive.textContent = msg;
          return;
        }
        setInvalid($('#nom'), false); setInvalid($('#email'), false);

        status.textContent = 'Envoi en cours‚Ä¶'; status.style.color = 'inherit';

        try {
          const res = await fetch(form.action, {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: new FormData(form)
          });
          if (res.ok){
            const params = new URLSearchParams({ nom: data.nom || '', email: data.email || '' });
            window.location.href = 'merci.html?' + params.toString();
          } else {
            const msg = 'Erreur serveur. R√©essayez plus tard.';
            status.textContent = msg; status.style.color = '#e11d48'; alertLive.textContent = msg;
          }
        } catch (err){
          const msg = 'Erreur de connexion. V√©rifiez votre r√©seau.';
          status.textContent = msg; status.style.color = '#e11d48'; alertLive.textContent = msg;
        }
      });

      ['nom','email'].forEach(id=>{
        const el = $('#'+id);
        el && el.addEventListener('input', ()=> setInvalid(el, false));
      });
    })();
  </script>
</body>
</html>
